{% extends "nbhosting.html" %}

{% block head_title %}
{{head_title}}
{% endblock %}

{% block title %}
{{notebook}}
{% endblock %}


{% block content %}
<style>
html, body {
    height: 100%;
    width: 100%;
}

div.iframe-side {
    position: absolute;
    top: 130px;
    bottom: 0px;
    left: 0px;
    right: 83%;
    padding: 0px;
}

div.iframe-container {
    position: absolute;
    top: 130px;
    bottom: 0px;
    left: 17%;
    right: 0px;
}

iframe {
    height: 100%;
}

/* left hand side */
button.back {
    margin-top: 10px;
    margin-left: 10px;
}

button.back>a {
    color: #eed;
}

div.section {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: flex-flex-start;
}
span.section-head {
    width: 100%;
}
span.notebook {
    width: 10px;
    height: 10px;
    border-radius: 5px;
    margin-bottom: 5px;
}

.notebook {
    background-color: #bbb;
}
.in-course {
    background-color: #ccc;
}
/* both means it exists and it's been copied */
.in-course.in-student {
    background-color: #afa;
}
/* only in-student means somehow it's obsolete */
.in-student {
    background-color: #faa;
}
</style>

<script>
$(function () {
    let tooltips = $('[data-toggle="tooltip"]');
    tooltips.tooltip();
})
</script>

<!------------------------------>
<div class="container" height="100%">
    <div class="iframe-side">
        <button type="button" class="btn btn-info back">
            <a href="{{course_url}}">back to {{course}}</a>
        </button>
        {% for section in sections %}
        <div class="section">
            <span class="section-head">{{section.name}}</span>
            {% for notebook in section.notebooks %}
            <a href="/auditor/notebook/{{course}}/{{notebook.clean_path}}"
               class="{{notebook.classes}}"
               data-toggle="tooltip" data-html="true"
               title="{{notebook.notebookname}}">
                <span class="notebook">x
                </span>
            </a>
            {% endfor %}
        </div>
        {% endfor %}
    </div>
    <div class="iframe-container">
        <iframe
            height="100%"
            width="100%"
            src="{{iframe}}">
        </iframe>
    </div>
</div>

{% endblock %}
